<!DOCTYPE>
<html>
	<head>
		<% include ../partials/head %>
		<link rel="stylesheet" type="text/css" href="/stylesheets/footprints.css">
		<script src="javascripts/footprints.js"></script>
		<script src="javascripts/global.js"></script>
		<script src="javascripts/bingmap.js"></script>
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
		<title>Our Footprints</title>
	</head>
	<body>
		<% include ../partials/header %>
		<script>
			$('#pill-top').children('li').eq(1).addClass('active');
			var count = 1;
			var footprints = <%- JSON.stringify(footprints) %>;
			var username = '<%- username%>';
			var users = <%- JSON.stringify(users)%>;
		</script>
		<div class="content">
			<h1 class="content-heading">Our footprints</h1>
			<a class="footprints-heading footprints-addNew glyphicon glyphicon-plus"></a>
			<hr>
			<div class="container">

				<div id="myCarousel" class="carousel slide" data-ride="carousel">
				  <!-- Indicators -->
				  <ol class="carousel-indicators">
				    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
				    <li data-target="#myCarousel" data-slide-to="1"></li>
				    <li data-target="#myCarousel" data-slide-to="2"></li>
				  </ol>

				  <!-- Wrapper for slides -->
				  <div class="carousel-inner" role="listbox">
				    <div class="item active">
				      <img src="/images/MEM1.jpg" alt="Chania">
				    </div>

				    <div class="item">
				      <img src="/images/MEM2.jpg" alt="Chania">
				    </div>

				    <div class="item">
				      <img src="/images/MEM3.jpg" alt="Flower">
				    </div>

				  </div>

				  <!-- Left and right controls -->
				  <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
				    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
				    <span class="sr-only">Previous</span>
				  </a>
				  <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
				    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
				    <span class="sr-only">Next</span>
				  </a>
				</div>

				<!-- Footprint start here -->
				<ul class="timeline">
				</ul>

				<button class="footprints-addNew btn btn-success btn-block">Add New Footprint</button>
				<hr>
				<!-- Add a new event-->
		    <div id="new-footprint" class="float-info">
		    	<div class="close glyphicon glyphicon-remove"></div><br><br>
		    	<div class="row">
		    		<div class="col-md-5">
		    			<p>Please enter the date of the event: </p>
		    		</div>
		    		<div class="col-md-2">
		    			<input id="footprint-month" class="form-control" placeholder="MM">
		    		</div>
		    		<div class="col-md-2">
		    			<input id="footprint-day" class="form-control" placeholder="DD">
		    		</div>
		    		<div class="col-md-3">
		    			<input id="footprint-year" class="form-control" placeholder="YYYY">
		    		</div>
		    	</div>
		    	<div class="row">
		    		<div class="col-md-5">
		    			<p>Please specify a title for this event:</p>
		    		</div>
		    		<div class="col-md-7">
		    			<input id="footprint-title" class="form-control" placeholder="title" />
		    		</div>
		    	</div>
		    	<div class="row">
		    		<div class="col-md-5">
		    			<p>Participated Users: </p>
		    		</div>
		    		<div class="col-md-7">
		    			<select multiple class="form-control" id="select-users">
		    				<% for(var i=0;i<users.length;i++){ %>
		    					<option value="<%= users[i].username%>"><%= users[i].username %></option>
		    				<% } %>
		    			</select>
		    		</div>
		     	</div>
		     	<div class="row">
		     		<div class="col-md-5">
		     			<p>Where it happened</p>
		     		</div>
		     		<div class="col-md-5">
		     			<input id="footprint-location" class="form-control" placeholder="location" />
		     			<input type="hidden" id="geoX" /><input type="hidden" id="geoY" />
		     		</div>
		     		<div class="col-md-2">
		     			<button class="btn btn-success" onclick="setGeoLocation('footprint-location')">Confirm</button>
		     		</div>
		     	</div>
		    	<p id="selected-users"></p>
		    	<textarea id="footprint-content" class="form-control" rows="5" placeholder="Please enter the content here..."></textarea><br>
		    	<div class="center">
		    		<button type="button" class="btn btn-success" onclick="submitFootprint()">Submit</button>
		    		<button type="button" class="btn btn-success" onclick="formReset('new-footprint')">Reset</button>
	    		</div>
	    	</div>
	  	</div>
	  </div>
	  <div id="confirm-geolocation" class="float-info">
			<p class="info"></p>
			<button class="btn btn-success btn-lg" onclick="confirmGeoLocation('confirm-geolocation')">Yes</button>
			<button class="btn btn-success btn-lg" onclick="displayResult()">No</button>
		</div>
	  <% include ../partials/popups %>
	</body>
</html>